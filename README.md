# advertisingMachine

## 注意
1. 在连续两次send之间，务必确保客户端已经将接收的数据写入文件后再发送停止符。为了保险起见，建议等待至少10毫秒（ms）。在原始代码中，使用了较粗暴的解决方案：
```c
yq/fileserver.c 
usleep(10000);
```
可以替换为以下两种更为合理的解决方案：

- 消息长度前缀： 在每个消息的前面添加一个表示消息长度的固定字节数。接收端首先读取这个长度，然后知道后续的数据属于一个完整的消息。

- 消息结束符： 在每个消息的末尾添加一个特殊的标记，表示消息结束。接收端通过检测这个标记来确定消息的结束。  




2. 注意使用strlen计算长度时不包含\0，因此需要对长度进行偏移一位，防止接收端在接收时出现问题：
```c
size_t filenameLength = strlen(filename) + 1;
```
需要确保发送端和接收端都按照相同的规则来处理数据，以确保消息的正确解析和处理